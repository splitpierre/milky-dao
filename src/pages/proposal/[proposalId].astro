---
import Header from "~/components/header.astro";
import Footer from "~/components/footer.astro";
import Head from "~/components/head.astro";
import "~/styles/index.css";
import ContentSection from "~/components/content-section.astro";
export async function getStaticPaths() {
  const data = await fetch(
    `https://milky-dao-api.herokuapp.com/proposals`
  ).then((response) => response.json());

  return data.map((proposal) => {
    return {
      params: { proposalId: proposal.id },
      props: { proposal },
    };
  });
}

const { proposalId } = Astro.params;
const { proposal } = Astro.props;
---

<html lang="en" class="h-full motion-safe:scroll-smooth" data-theme="dark">
  <Head title={proposal.title} />
  <body
    class="h-full overflow-x-hidden text-base bg-default text-default selection:bg-secondary selection:text-white"
  >
    <Header />
    <div class="px-8 py-32 space-y-24">
      <!-- <Projects /> -->
      <ContentSection title={proposal.title} id="proposal"
        >hi {proposalId} -
        {proposal.title}
      </ContentSection>
    </div>
    <Footer />
  </body>
</html>
